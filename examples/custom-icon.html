<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>è‡ªå®šä¹‰å›¾æ ‡ - æ”¯ä»˜é¢æ¿ç»„ä»¶ç¤ºä¾‹</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans',
          Helvetica, Arial, sans-serif;
        padding: 20px;
        background-color: #f6f8fa;
        min-height: 100vh;
      }

      .container {
        max-width: 600px;
        margin: 0 auto;
        padding: 40px 20px;
      }

      h1 {
        text-align: center;
        margin-bottom: 40px;
        color: #24292f;
      }

      .demo-section {
        background: white;
        border-radius: 12px;
        padding: 24px;
        margin-bottom: 24px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      .demo-section h2 {
        font-size: 18px;
        margin-bottom: 16px;
        color: #24292f;
      }

      .btn {
        padding: 12px 24px;
        background-color: #238636;
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 16px;
        font-weight: 500;
        cursor: pointer;
        width: 100%;
        margin-bottom: 12px;
        transition: background-color 0.2s ease;
      }

      .btn:hover {
        background-color: #2ea043;
      }

      .btn-secondary {
        background-color: #f6f8fa;
        color: #24292f;
      }

      .btn-secondary:hover {
        background-color: #f3f4f6;
      }

      .info {
        margin-top: 16px;
        padding: 12px;
        background-color: #f6f8fa;
        border-radius: 6px;
        font-size: 14px;
        color: #57606a;
        line-height: 1.6;
      }

      @media (prefers-color-scheme: dark) {
        body {
          background-color: #0d1117;
        }

        h1 {
          color: #e6edf3;
        }

        .demo-section {
          background: #161b22;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }

        .demo-section h2 {
          color: #e6edf3;
        }

        .btn-secondary {
          background-color: #21262d;
          color: #e6edf3;
        }

        .btn-secondary:hover {
          background-color: #30363d;
        }

        .info {
          background-color: #21262d;
          color: #8b949e;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>è‡ªå®šä¹‰å›¾æ ‡æ˜¾ç¤º</h1>

      <div class="demo-section">
        <h2>å›¾æ ‡æ˜¾ç¤ºæ¨¡å¼ï¼šalwaysï¼ˆé»˜è®¤ï¼‰</h2>
        <button class="btn" onclick="openPanelWithAlwaysMode()">
          æ€»æ˜¯æ˜¾ç¤ºå›¾æ ‡
        </button>
        <div class="info">
          ä½¿ç”¨ iconDisplay: 'always'ï¼Œæ— è®ºæ˜¯å¦æœ‰ icon å€¼éƒ½ä¼šæ˜¾ç¤ºå›¾æ ‡åŒºåŸŸ<br />
          â€¢ å›¾ç‰‡URLï¼šæ˜¾ç¤ºå›¾ç‰‡ï¼ˆobject-fit: coverï¼‰<br />
          â€¢ å­—ç¬¦ä¸²ï¼šæ˜¾ç¤ºç¬¬ä¸€ä¸ªå­—ç¬¦<br />
          â€¢ æ— iconï¼šæ˜¾ç¤ºé»˜è®¤SVGå›¾æ ‡
        </div>
      </div>

      <div class="demo-section">
        <h2>å›¾æ ‡æ˜¾ç¤ºæ¨¡å¼ï¼šauto</h2>
        <button class="btn" onclick="openPanelWithAutoMode()">
          æœ‰iconæ—¶æ˜¾ç¤º
        </button>
        <div class="info">
          ä½¿ç”¨ iconDisplay: 'auto'ï¼Œåªæœ‰å­˜åœ¨ icon å€¼æ—¶æ‰æ˜¾ç¤ºå›¾æ ‡<br />
          â€¢ æœ‰iconå€¼ï¼šæ­£å¸¸æ˜¾ç¤ºï¼ˆå›¾ç‰‡/å­—ç¬¦/é»˜è®¤å›¾æ ‡ï¼‰<br />
          â€¢ æ— iconå€¼ï¼šä¸æ˜¾ç¤ºå›¾æ ‡åŒºåŸŸ
        </div>
      </div>

      <div class="demo-section">
        <h2>å›¾æ ‡æ˜¾ç¤ºæ¨¡å¼ï¼šnever</h2>
        <button class="btn" onclick="openPanelWithNeverMode()">
          ä¸æ˜¾ç¤ºå›¾æ ‡
        </button>
        <div class="info">
          ä½¿ç”¨ iconDisplay: 'never'ï¼Œå®Œå…¨ä¸æ˜¾ç¤ºå›¾æ ‡åŒºåŸŸ
        </div>
      </div>

      <div class="demo-section">
        <h2>æ··åˆç¤ºä¾‹ï¼šå›¾ç‰‡URL + å­—ç¬¦ä¸² + æ— å›¾æ ‡</h2>
        <button class="btn btn-secondary" onclick="openPanelWithMixedIcons()">
          æ‰“å¼€æ··åˆå›¾æ ‡ç¤ºä¾‹
        </button>
        <div class="info">
          å±•ç¤ºä¸åŒç±»å‹çš„å›¾æ ‡ï¼š<br />
          â€¢ å›¾ç‰‡URLï¼ˆå¾®ä¿¡æ”¯ä»˜ã€æ”¯ä»˜å®å›¾æ ‡ï¼‰<br />
          â€¢ å­—ç¬¦ä¸²ï¼ˆæ˜¾ç¤ºç¬¬ä¸€ä¸ªå­—ç¬¦ï¼‰<br />
          â€¢ æ— å›¾æ ‡ï¼ˆæ˜¾ç¤ºé»˜è®¤SVGï¼‰
        </div>
      </div>

      <div class="demo-section">
        <h2>å›¾ç‰‡åŠ è½½å¤±è´¥ç¤ºä¾‹</h2>
        <button class="btn btn-secondary" onclick="openPanelWithFailedImage()">
          æ‰“å¼€å¤±è´¥å›¾ç‰‡ç¤ºä¾‹
        </button>
        <div class="info">
          å½“å›¾ç‰‡URLåŠ è½½å¤±è´¥æ—¶ï¼Œè‡ªåŠ¨æ˜¾ç¤ºé»˜è®¤SVGå›¾æ ‡
        </div>
      </div>
    </div>

    <!-- å¼•å…¥æ‰“åŒ…åçš„ç»„ä»¶ -->
    <script src="../dist/index.js"></script>

    <script>
      const eventConfirmHandler = (e) => {
        const { method, amount, password } = e.detail
        if (password) {
          console.log(`æ”¯ä»˜ç¡®è®¤: æ–¹å¼=${method}, é‡‘é¢=Â¥${amount}, å¯†ç =${password}`)
        } else {
          console.log(`æ”¯ä»˜ç¡®è®¤: æ–¹å¼=${method}, é‡‘é¢=Â¥${amount}`)
        }
      }

      // always æ¨¡å¼ï¼šæ€»æ˜¯æ˜¾ç¤ºå›¾æ ‡
      function openPanelWithAlwaysMode() {
        PaymentPanel.setConfig({
          iconDisplay: 'always',
          headerTitle: 'æ”¯ä»˜æ–¹å¼'
        })

        PaymentPanel.setPaymentMethods([
          {
            value: 'wechat',
            title: 'å¾®ä¿¡æ”¯ä»˜',
            subtitle: 'æ¨èä½¿ç”¨',
            icon: 'https://res.wx.qq.com/a/wx_fed/assets/res/OTE0YTAw.png' // å¾®ä¿¡æ”¯ä»˜å›¾æ ‡
          },
          {
            value: 'alipay',
            title: 'æ”¯ä»˜å®',
            subtitle: 'å®‰å…¨ä¾¿æ·',
            icon: 'https://i.alipayobjects.com/common/favicon/favicon.ico' // æ”¯ä»˜å®å›¾æ ‡
          },
          {
            value: 'card',
            title: 'é“¶è¡Œå¡',
            subtitle: 'æ”¯æŒå„å¤§é“¶è¡Œ'
            // æ— iconï¼Œæ˜¾ç¤ºé»˜è®¤SVG
          }
        ])

        PaymentPanel.on('payment-confirm', eventConfirmHandler)
        PaymentPanel.open(199.99)
      }

      // auto æ¨¡å¼ï¼šæœ‰iconæ—¶æ˜¾ç¤º
      function openPanelWithAutoMode() {
        PaymentPanel.setConfig({
          iconDisplay: 'auto',
          headerTitle: 'æ”¯ä»˜æ–¹å¼'
        })

        PaymentPanel.setPaymentMethods([
          {
            value: 'wechat',
            title: 'å¾®ä¿¡æ”¯ä»˜',
            subtitle: 'æ¨èä½¿ç”¨',
            icon: 'ğŸ’³' // æœ‰iconï¼Œæ˜¾ç¤º
          },
          {
            value: 'alipay',
            title: 'æ”¯ä»˜å®',
            subtitle: 'å®‰å…¨ä¾¿æ·',
            icon: 'ğŸ’°' // æœ‰iconï¼Œæ˜¾ç¤º
          },
          {
            value: 'card',
            title: 'é“¶è¡Œå¡',
            subtitle: 'æ”¯æŒå„å¤§é“¶è¡Œ'
            // æ— iconï¼Œä¸æ˜¾ç¤ºå›¾æ ‡åŒºåŸŸ
          }
        ])

        PaymentPanel.on('payment-confirm', eventConfirmHandler)
        PaymentPanel.open(199.99)
      }

      // never æ¨¡å¼ï¼šä¸æ˜¾ç¤ºå›¾æ ‡
      function openPanelWithNeverMode() {
        PaymentPanel.setConfig({
          iconDisplay: 'never',
          headerTitle: 'æ”¯ä»˜æ–¹å¼'
        })

        PaymentPanel.setPaymentMethods([
          {
            value: 'wechat',
            title: 'å¾®ä¿¡æ”¯ä»˜',
            subtitle: 'æ¨èä½¿ç”¨',
            icon: 'ğŸ’³' // å³ä½¿æœ‰iconä¹Ÿä¸æ˜¾ç¤º
          },
          {
            value: 'alipay',
            title: 'æ”¯ä»˜å®',
            subtitle: 'å®‰å…¨ä¾¿æ·',
            icon: 'ğŸ’°'
          },
          {
            value: 'card',
            title: 'é“¶è¡Œå¡',
            subtitle: 'æ”¯æŒå„å¤§é“¶è¡Œ'
          }
        ])

        PaymentPanel.on('payment-confirm', eventConfirmHandler)
        PaymentPanel.open(199.99)
      }

      // æ··åˆç¤ºä¾‹ï¼šå›¾ç‰‡URL + å­—ç¬¦ä¸² + æ— å›¾æ ‡
      function openPanelWithMixedIcons() {
        PaymentPanel.setConfig({
          iconDisplay: 'always',
          headerTitle: 'æ”¯ä»˜æ–¹å¼'
        })

        PaymentPanel.setPaymentMethods([
          {
            value: 'wechat',
            title: 'å¾®ä¿¡æ”¯ä»˜',
            subtitle: 'æ¨èä½¿ç”¨',
            icon: 'https://res.wx.qq.com/a/wx_fed/assets/res/OTE0YTAw.png' // å›¾ç‰‡URL
          },
          {
            value: 'alipay',
            title: 'æ”¯ä»˜å®',
            subtitle: 'å®‰å…¨ä¾¿æ·',
            icon: 'https://i.alipayobjects.com/common/favicon/favicon.ico' // æ”¯ä»˜å®å›¾æ ‡
          },
          {
            value: 'card',
            title: 'é“¶è¡Œå¡',
            subtitle: 'æ”¯æŒå„å¤§é“¶è¡Œ'
            // æ— iconï¼Œæ˜¾ç¤ºé»˜è®¤SVG
          },
          {
            value: 'apple',
            title: 'Apple Pay',
            subtitle: 'å¿«é€Ÿæ”¯ä»˜',
            icon: 'ğŸ' // emojiå­—ç¬¦ä¸²
          }
        ])

        PaymentPanel.on('payment-confirm', eventConfirmHandler)
        PaymentPanel.open(299.99)
      }

      // å›¾ç‰‡åŠ è½½å¤±è´¥ç¤ºä¾‹
      function openPanelWithFailedImage() {
        PaymentPanel.setConfig({
          iconDisplay: 'always',
          headerTitle: 'æ”¯ä»˜æ–¹å¼'
        })

        PaymentPanel.setPaymentMethods([
          {
            value: 'wechat',
            title: 'å¾®ä¿¡æ”¯ä»˜',
            subtitle: 'æ¨èä½¿ç”¨',
            icon: 'https://invalid-url.com/image.png' // æ— æ•ˆçš„å›¾ç‰‡URLï¼Œä¼šåŠ è½½å¤±è´¥
          },
          {
            value: 'alipay',
            title: 'æ”¯ä»˜å®',
            subtitle: 'å®‰å…¨ä¾¿æ·',
            icon: 'https://another-invalid-url.com/icon.jpg' // æ— æ•ˆçš„å›¾ç‰‡URL
          },
          {
            value: 'card',
            title: 'é“¶è¡Œå¡',
            subtitle: 'æ”¯æŒå„å¤§é“¶è¡Œ',
            icon: 'ğŸ’³' // æ­£å¸¸æ˜¾ç¤º
          }
        ])

        PaymentPanel.on('payment-confirm', eventConfirmHandler)
        PaymentPanel.open(199.99)
      }
    </script>
  </body>
</html>
